[replace_code]
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ulus Sim√ºlat√∂r√º</title>
    <style>
        :root {
            --bg-color: #ecf0f1;
            --container-bg: #fff;
            --text-color: #2c3e50;
            --primary-color: #3498db;
            --secondary-color: #1abc9c;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --success-color: #2ecc71;
            --panel-bg: #f5f7fa;
            --border-color: #dfe4ea;
            --accent-color: #5D5CDE;
            --header-color: #1abc9c;
            --input-bg: #ecf0f1;
            --tab-active-color: #5D5CDE;
        }

        .dark {
            --bg-color: #181818;
            --container-bg: #2c3e50;
            --text-color: #ecf0f1;
            --primary-color: #5D5CDE;
            --secondary-color: #1abc9c;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --success-color: #2ecc71;
            --panel-bg: #34495e;
            --border-color: #4e6a83;
            --header-color: #1abc9c;
            --input-bg: #4e6a83;
            --tab-active-color: #5D5CDE;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .game-container {
            background-color: var(--container-bg);
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
            width: 95%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            transition: background-color 0.3s ease;
        }

        h1 {
            text-align: center;
            color: var(--header-color);
            margin-bottom: 20px;
        }

        /* Sekme Navigasyonu */
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            gap: 10px; /* Sekmeler arasƒ± bo≈üluk */
            flex-wrap: wrap; /* K√º√ß√ºk ekranlarda sarmalama */
        }

        .tab-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px 5px 0 0; /* √úst k√∂≈üeleri yuvarlak */
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.2s ease, transform 0.1s ease;
            flex-grow: 1; /* Esnek b√ºy√ºme */
            min-width: 120px; /* Minimum geni≈ülik */
        }

        @media (max-width: 768px) {
            .tab-btn {
                min-width: 90px;
                padding: 10px 12px;
                font-size: 0.9em;
            }
        }

        .tab-btn:hover {
            background-color: var(--primary-color);
            opacity: 0.9;
            transform: translateY(-2px); /* Hafif yukarƒ± kalkma efekti */
        }

        .tab-btn.active {
            background-color: var(--tab-active-color); /* Aktif sekme rengi */
            font-weight: bold;
            border-bottom: 2px solid var(--tab-active-color); /* Aktif sekmede alt √ßizgi */
            transform: translateY(0); /* Sabit konum */
        }

        /* T√ºm ekranlarƒ± gizle */
        .game-screen {
            display: none;
            background-color: var(--container-bg); /* T√ºm ekranlar i√ßin ortak arka plan */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            min-height: 500px; /* Ekranlar arasƒ± bo≈üluƒüu korumak i√ßin */
            overflow-y: auto; /* ƒ∞√ßerik ta≈üarsa kaydƒ±rma */
        }

        /* Ana oyun ekranƒ±nƒ±n d√ºzenini korumak i√ßin */
        #main-screen {
            display: grid; /* Flexbox ile ana konteyneri y√∂nettik, i√ßini grid ile */
            grid-template-columns: 1fr 1.5fr;
            grid-template-rows: auto 1fr; /* ƒ∞statistikler ve eylemler √ºstte, log ve canvas altta */
            gap: 20px;
            grid-template-areas:
                "stats actions"
                "log canvas";
        }

        @media (max-width: 768px) {
            #main-screen {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "stats"
                    "actions"
                    "log"
                    "canvas";
            }

            .game-container {
                padding: 15px;
                width: 98%;
            }
        }

        #main-screen.active {
            display: grid;
        }

        .stats-panel {
            grid-area: stats;
            background-color: var(--panel-bg);
            padding: 20px;
            border-radius: 6px;
            border-left: 5px solid var(--secondary-color);
        }

        .stats-panel p {
            margin: 10px 0;
            font-size: 1.1em;
        }

        .stats-panel span {
            font-weight: bold;
            color: var(--text-color);
        }

        .actions-panel {
            grid-area: actions;
            background-color: var(--panel-bg);
            padding: 20px;
            border-radius: 6px;
            border-left: 5px solid var(--warning-color);
        }

        .actions-panel h2 {
            color: var(--warning-color);
            margin-top: 0;
            margin-bottom: 15px;
        }

        .action-category {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px dashed var(--border-color);
        }

        .action-category:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .action-category h3 {
            color: var(--warning-color);
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.95em;
            transition: background-color 0.2s ease;
        }

        button:hover {
            background-color: var(--primary-color);
            opacity: 0.9;
        }

        button:disabled {
            background-color: #7f8c8d;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .log-panel {
            grid-area: log;
            background-color: var(--panel-bg);
            padding: 20px;
            border-radius: 6px;
            border-left: 5px solid #9b59b6;
            overflow-y: auto;
            max-height: 300px; /* Log paneli i√ßin maksimum y√ºkseklik */
        }

        .log-panel h2 {
            color: #9b59b6;
            margin-top: 0;
            margin-bottom: 15px;
        }

        #game-log {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #game-log li {
            background-color: var(--container-bg);
            padding: 8px 12px;
            margin-bottom: 5px;
            border-radius: 4px;
            font-size: 0.9em;
        }
         #game-log li.daily { /* G√ºnl√ºk loglar i√ßin farklƒ± stil */
            font-style: italic;
            color: var(--accent-color);
            opacity: 0.8;
            font-size: 0.85em;
            border-left: 3px solid var(--accent-color);
            padding-left: 10px;
        }


        #gameCanvas {
            grid-area: canvas;
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            width: 100%;
            height: 300px; /* Canvas boyutu */
        }

        /* Yeni Ekranlarƒ±n Genel Stili */
        .game-screen h2 {
            color: var(--warning-color); /* Sarƒ±msƒ± ba≈ülƒ±k rengi */
            margin-bottom: 20px;
            text-align: center;
        }
        .game-screen h3 {
            color: var(--secondary-color);
            margin-top: 20px;
            margin-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
        }


        .game-screen ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .game-screen li {
            background-color: var(--panel-bg);
            padding: 10px 15px;
            margin-bottom: 8px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.05em;
        }
         .game-screen li div { /* Butonlarƒ± saƒüa yaslamak i√ßin */
            display: flex;
            gap: 5px;
            flex-wrap: wrap; /* Butonlar sƒ±ƒümazsa alt satƒ±ra ge√ßsin */
        }


        .game-screen .cabinet-actions,
        .game-screen .parliament-propose,
        .game-screen .security-actions,
        .game-screen .foreign-actions,
        .game-screen .opposition-actions,
        .game-screen .reports-actions { /* Rapor ekranƒ± i√ßin eylem alanƒ± */
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
            justify-content: center; /* Butonlarƒ± ortala */
            margin-bottom: 15px;
        }


        .game-screen input[type="text"],
        .game-screen input[type="number"],
        .game-screen select {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid var(--border-color);
            background-color: var(--input-bg);
            color: var(--text-color);
            font-size: 1em;
            flex-grow: 1;
            min-width: 150px;
        }

        .game-screen .parliament-note,
        .game-screen .security-note {
            font-style: italic;
            font-size: 0.9em;
            color: #bdc3c7;
            margin-top: 10px;
            text-align: center;
        }

        /* Oyun Sonu Ekranƒ± */
        #game-over-screen {
            display: flex; /* Flexbox ile ortalama */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            min-height: 500px;
        }

        #game-over-screen h1 {
            color: var(--danger-color);
            margin-bottom: 20px;
        }

        #game-over-screen p {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        #game-over-screen button {
            background-color: var(--danger-color);
            padding: 15px 30px;
            font-size: 1.2em;
            margin-top: 30px;
        }

        #game-over-screen button:hover {
            background-color: var(--danger-color);
            opacity: 0.9;
        }

        /* Meclis Action butonlarƒ± */
        .parliament-action-btn {
            padding: 8px 12px;
            margin-left: 5px;
            font-size: 0.85em;
        }

        .parliament-action-btn[data-action="approve"] {
            background-color: var(--success-color);
        }
        .parliament-action-btn[data-action="approve"]:hover {
            background-color: var(--success-color);
            opacity: 0.9;
        }
        .parliament-action-btn[data-action="reject"] {
            background-color: var(--danger-color);
        }
        .parliament-action-btn[data-action="reject"]:hover {
            background-color: var(--danger-color);
            opacity: 0.9;
        }

        /* Dƒ±≈ü ƒ∞li≈ükiler listesi */
        #country-relations-list button, #summit-invitation-list button {
            padding: 6px 10px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        #country-relations-list li, #summit-invitation-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap; /* K√º√ß√ºk ekranlarda sarmalama */
        }


        /* Dark Mode Toggle */
        .theme-toggle {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: transparent;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--text-color);
            z-index: 100;
        }

        /* Chart styles */
        #reportChartCanvas {
            background-color: var(--panel-bg);
            border-radius: 6px;
            max-width: 100%;
            height: auto;
            margin-top: 20px;
        }

        /* Yeni √∂zellikler i√ßin stiller */
        .slider-container {
            margin: 15px 0;
        }

        .slider-container label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .slider-container input[type="range"] {
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: var(--panel-bg);
            outline: none;
            -webkit-appearance: none;
        }

        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-color);
            cursor: pointer;
        }

        .flex-row {
            display: flex;
            gap: 10px;
            align-items: center;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .input-with-buttons {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-with-buttons input {
            width: 100px;
            text-align: center;
        }

        .input-with-buttons button {
            padding: 8px 12px;
            font-size: 1em;
        }

        .minister-advice {
            background-color: var(--panel-bg);
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            border-left: 5px solid var(--accent-color);
        }

        .minister-advice h3 {
            margin-top: 0;
            color: var(--accent-color);
        }

        .policy-slider {
            margin: 15px 0;
        }

        .policy-slider-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .policy-value {
            font-weight: bold;
        }

        /* Tooltip styles */
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            cursor: help;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        @media (max-width: 480px) {
            button {
                padding: 8px 12px;
                font-size: 0.85em;
                margin: 3px;
            }
            
            .stats-panel p, .actions-panel h3 {
                font-size: 0.95em;
            }
             .game-screen li div {
                justify-content: flex-start; /* Mobil i√ßin butonlarƒ± sola yasla */
            }
        }
    </style>
</head>
<body>
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark/light mode">üåì</button>
    <div class="game-container">
        <h1>Ulus Sim√ºlat√∂r√º</h1>

        <div class="tabs">
            <button class="tab-btn active" data-tab="main-screen">Ana Ekran</button>
            <button class="tab-btn" data-tab="cabinet-screen">Kabine</button>
            <button class="tab-btn" data-tab="parliament-screen">Meclis & Siyaset</button>
            <button class="tab-btn" data-tab="foreign-affairs-screen">Dƒ±≈ü ƒ∞li≈ükiler & Zirveler</button>
            <button class="tab-btn" data-tab="security-screen">G√ºvenlik & Ordu</button>
            <button class="tab-btn" data-tab="reports-screen">Raporlar & Zaman</button>
        </div>

        <div id="main-screen" class="game-screen active">
            <div class="stats-panel">
                <p>Hafta: <span id="current-week">1</span> (G√ºn: <span id="current-day-of-week">1</span>)</p>
                <p>N√ºfus: <span id="population">10,000,000</span></p>
                <p>GSYƒ∞H: $<span id="gdp">1,000,000,000</span></p>
                <p>Enflasyon: <span id="inflation">2</span>%</p>
                <p>Halk Memnuniyeti: <span id="satisfaction">70</span>%</p>
                <p>B√ºt√ße: $<span id="budget">100,000,000</span></p>
                <p>Vergi Oranƒ±: <span id="tax-rate">10</span>%</p>
                <p>H√ºk√ºmet Tipi: <span id="government-type-display">Demokrasi</span></p>
                <p>Siyasi ƒ∞stikrar: <span id="political-stability">70</span>%</p>
                <p>Dƒ±≈ü ƒ∞li≈ükiler Skoru: <span id="foreign-relations-score">50</span></p>
                <p>Ordu B√ºy√ºkl√ºƒü√º: <span id="army-size-display">50000</span></p>
                 <p>Medya √ñzg√ºrl√ºƒü√º: <span id="media-freedom-display">7</span>/10</p>
            </div>

            <div class="actions-panel">
                <h2>Kararlar</h2>
                <div class="action-category">
                    <h3>Vergi Ayarlarƒ±</h3>
                    <div class="slider-container">
                        <label for="tax-slider">Vergi Oranƒ±: <span id="tax-slider-value">10</span>%</label>
                        <input type="range" id="tax-slider" min="5" max="30" step="0.1" value="10">
                    </div>
                    <button id="apply-tax">Vergi Oranƒ±nƒ± Uygula</button>
                </div>
                
                <div class="action-category">
                    <h3>Ekonomi</h3>
                    <div class="flex-row">
                        <label for="economy-investment">Ekonomiye Yatƒ±rƒ±m ($M):</label>
                        <div class="input-with-buttons">
                            <button id="decrease-economy-investment">-</button>
                            <input type="number" id="economy-investment" value="10" min="1" max="100">
                            <button id="increase-economy-investment">+</button>
                        </div>
                        <button id="invest-economy">Yatƒ±rƒ±m Yap</button>
                    </div>
                </div>
                
                <div class="action-category">
                    <h3>Sosyal Politikalar</h3>
                    <div class="flex-row">
                        <label for="education-investment">Eƒüitime Yatƒ±rƒ±m ($M):</label>
                        <div class="input-with-buttons">
                            <button id="decrease-education-investment">-</button>
                            <input type="number" id="education-investment" value="5" min="1" max="50">
                            <button id="increase-education-investment">+</button>
                        </div>
                        <button id="invest-education">Yatƒ±rƒ±m Yap</button>
                    </div>
                    
                    <div class="flex-row">
                        <label for="health-investment">Saƒülƒ±ƒüa Yatƒ±rƒ±m ($M):</label>
                        <div class="input-with-buttons">
                            <button id="decrease-health-investment">-</button>
                            <input type="number" id="health-investment" value="7" min="1" max="50">
                            <button id="increase-health-investment">+</button>
                        </div>
                        <button id="invest-health">Yatƒ±rƒ±m Yap</button>
                    </div>
                    
                    <div class="flex-row">
                        <label for="culture-investment">K√ºlt√ºre Yatƒ±rƒ±m ($M):</label>
                        <div class="input-with-buttons">
                            <button id="decrease-culture-investment">-</button>
                            <input type="number" id="culture-investment" value="3" min="1" max="30">
                            <button id="increase-culture-investment">+</button>
                        </div>
                        <button id="promote-culture">Yatƒ±rƒ±m Yap</button>
                    </div>
                    
                    <button id="declare-holiday">Yeni Tatil ƒ∞lan Et ($2M)</button>
                </div>
                 <div class="action-category">
                    <h3>Yeni Politikalar</h3>
                    <button id="invest-green-energy">Ye≈üil Enerjiye Yatƒ±rƒ±m Yap ($20M)</button>
                    <button id="develop-defense-industry">Savunma Sanayii Geli≈ütir ($50M)</button>
                </div>
                <button id="end-week-btn">Haftayƒ± Bitir</button>
            </div>

            <div class="log-panel">
                <h2>Olay G√ºnl√ºƒü√º</h2>
                <ul id="game-log"></ul>
            </div>

            <canvas id="gameCanvas"></canvas>
        </div>

        <div id="cabinet-screen" class="game-screen">
            <h2>Kabine Y√∂netimi</h2>
            <p>Mevcut Kabine √úyeleri:</p>
            <ul id="cabinet-list">
            </ul>
            
            <div class="minister-advice" id="cabinet-advice">
                <h3>Bakan Raporlarƒ±</h3>
                <div id="economy-minister-advice">
                    <p><strong>Ekonomi Bakanƒ±:</strong> <span id="economy-advice-text">Hen√ºz rapor verilmedi.</span></p>
                </div>
                <div id="education-minister-advice">
                    <p><strong>Eƒüitim Bakanƒ±:</strong> <span id="education-advice-text">Hen√ºz rapor verilmedi.</span></p>
                </div>
                <div id="health-minister-advice">
                    <p><strong>Saƒülƒ±k Bakanƒ±:</strong> <span id="health-advice-text">Hen√ºz rapor verilmedi.</span></p>
                </div>
                <div id="foreign-minister-advice">
                    <p><strong>Dƒ±≈üi≈üleri Bakanƒ±:</strong> <span id="foreign-advice-text">Hen√ºz rapor verilmedi.</span></p>
                </div>
                <div id="interior-minister-advice">
                    <p><strong>ƒ∞√ßi≈üleri Bakanƒ±:</strong> <span id="interior-advice-text">Hen√ºz rapor verilmedi.</span></p>
                </div>
                <div id="justice-minister-advice">
                    <p><strong>Adalet Bakanƒ±:</strong> <span id="justice-advice-text">Hen√ºz rapor verilmedi.</span></p>
                </div>
                 <div id="defense-minister-advice">
                    <p><strong>Savunma Bakanƒ±:</strong> <span id="defense-advice-text">Hen√ºz rapor verilmedi.</span></p>
                </div>
            </div>
            
            <h3>Bakan Atamalarƒ± / Deƒüi≈üiklikleri</h3>
            <div class="cabinet-actions">
                <select id="minister-type-select">
                    <option value="economy">Ekonomi Bakanƒ±</option>
                    <option value="education">Eƒüitim Bakanƒ±</option>
                    <option value="health">Saƒülƒ±k Bakanƒ±</option>
                    <option value="foreign">Dƒ±≈üi≈üleri Bakanƒ±</option>
                    <option value="interior">ƒ∞√ßi≈üleri Bakanƒ±</option>
                    <option value="justice">Adalet Bakanƒ±</option>
                    <option value="defense">Savunma Bakanƒ±</option>
                </select>
                <input type="text" id="minister-name-input" placeholder="Yeni Bakan Adƒ± (isteƒüe baƒülƒ±)">
                <button id="appoint-minister-btn">Bakan Ata / Deƒüi≈ütir ($500K)</button>
            </div>
            <p>Kabine kararlarƒ± haftalƒ±k s√ºre√ßleri etkiler.</p>
        </div>

        <div id="parliament-screen" class="game-screen">
            <h2>Meclis & Siyaset</h2>
            <p>H√ºk√ºmet Tipi: <span id="government-type-parliament">Demokrasi</span></p>
            <p>Meclis Desteƒüi: <span id="parliament-support"></span></p>
            <p>Muhalefet G√ºc√º: <span id="opposition-strength-display"></span></p>
             <h3>Medya & ƒ∞fade √ñzg√ºrl√ºƒü√º</h3>
            <div class="policy-slider">
                <div class="policy-slider-header">
                    <label for="media-freedom-slider">Medya √ñzg√ºrl√ºƒü√º Politikasƒ± (Hedef: <span id="media-freedom-target-value">7</span>/10)</label>
                    <span class="policy-value" id="media-freedom-value-display">7</span>
                </div>
                <input type="range" id="media-freedom-slider" min="0" max="10" value="7">
                <button id="apply-media-policy">Medya Politikasƒ±nƒ± G√ºncelle</button>
            </div>
            <div class="opposition-actions"> <button id="start-propaganda-btn">Devlet Propagandasƒ± Ba≈ülat ($5M)</button>
                 <button id="apply-censorship-btn">Sans√ºr Uygula</button>
            </div>

            <h3>Yasama Politikalarƒ±</h3>
            <div class="policy-slider">
                <div class="policy-slider-header">
                    <h3>Sosyal Politikalar</h3>
                    <span class="policy-value" id="social-policy-value">5</span>
                </div>
                <input type="range" id="social-policy-slider" min="1" max="10" value="5">
                <div class="tooltip">‚ÑπÔ∏è
                    <span class="tooltiptext">Sosyal politikalarƒ± artƒ±rmak halk memnuniyetini artƒ±rƒ±r ancak b√ºt√ßeye y√ºk getirir.</span>
                </div>
                <button id="apply-social-policy">Uygula</button>
            </div>
            
            <div class="policy-slider">
                <div class="policy-slider-header">
                    <h3>Ekonomi Politikalarƒ±</h3>
                    <span class="policy-value" id="economic-policy-value">5</span>
                </div>
                <input type="range" id="economic-policy-slider" min="1" max="10" value="5">
                <div class="tooltip">‚ÑπÔ∏è
                    <span class="tooltiptext">Ekonomi politikalarƒ±nƒ± deƒüi≈ütirmek GSYƒ∞H ve enflasyonu etkiler.</span>
                </div>
                <button id="apply-economic-policy">Uygula</button>
            </div>
            
            <h3>G√ºndemdeki Yasalar / Talepler</h3>
            <ul id="parliament-agenda">
            </ul>
            <h3>Sizin Teklifleriniz</h3>
            <div class="parliament-propose">
                <input type="text" id="proposal-input" placeholder="Yeni yasa teklifi">
                <button id="propose-law-btn">Yasa Teklif Et</button>
            </div>
            <h3>Muhalefet ƒ∞li≈ükileri</h3>
            <div class="opposition-actions">
                <button id="meet-opposition-closed-btn">Muhalefetle Kapalƒ± G√∂r√º≈ü ($500K)</button>
                <button id="meet-opposition-open-btn">Muhalefetle A√ßƒ±k G√∂r√º≈ü ($200K)</button>
            </div>
            <h3>Radikal Kararlar</h3>
            <div class="parliament-propose"> <button id="call-elections">Erken Se√ßim √áaƒürƒ±sƒ± Yap ($10M)</button>
                 <button id="declare-dictatorship">Diktat√∂rl√ºk ƒ∞lan Et</button>
                 <button id="dissolve-parliament-btn">Meclisi Feshet</button>
            </div>
            <p class="parliament-note">Meclisi feshetmek veya diktat√∂rl√ºk ilan etmek ciddi sonu√ßlar doƒüurabilir.</p>
        </div>

        <div id="foreign-affairs-screen" class="game-screen">
            <h2>Dƒ±≈ü ƒ∞li≈ükiler & Zirveler</h2>
            <p>Genel Dƒ±≈ü ƒ∞li≈ükiler Puanƒ±: <span id="foreign-relations-display"></span></p>
            
            <div class="policy-slider">
                <div class="policy-slider-header">
                    <h3>Diplomatik Yakla≈üƒ±m</h3>
                    <span class="policy-value" id="diplomatic-approach-value">5</span>
                </div>
                <input type="range" id="diplomatic-approach-slider" min="1" max="10" value="5">
                <div class="tooltip">‚ÑπÔ∏è
                    <span class="tooltiptext">1: Agresif, 10: Uzla≈ümacƒ±. Diplomatik yakla≈üƒ±mƒ±nƒ±z dƒ±≈ü ili≈ükileri ve ticari fƒ±rsatlarƒ± etkiler.</span>
                </div>
                <button id="apply-diplomatic-approach">Uygula</button>
            </div>
            
            <h3>√úlkelerle ƒ∞li≈ükiler</h3>
            <ul id="country-relations-list">
            </ul>

            <h3>Zirve Y√∂netimi</h3>
            <div class="foreign-actions">
                 <button id="create-summit-btn">Zirve D√ºzenle ($15M)</button>
            </div>
            <p>Zirveye davet edilecek √ºlkeler (En fazla 5):</p>
            <ul id="summit-invitation-list"></ul>
            <div class="foreign-actions">
                <button id="send-summit-invitations-btn" disabled>Davetleri G√∂nder</button>
            </div>


            <h3>Gelen Davetler / Olaylar</h3>
            <ul id="foreign-events-list">
            </ul>
            <h3>Genel Diplomatik Eylemler</h3>
            <div class="foreign-actions">
                <button id="global-summit-btn">Uluslararasƒ± Zirveye Katƒ±l ($10M)</button>
                <button id="sign-trade-deal">Ticaret Anla≈ümasƒ± ƒ∞mzala (Uygun √úlkeyle - $3M)</button>
                <button id="improve-relations">Dƒ±≈ü ƒ∞li≈ükileri Geli≈ütir (Genel - $2M)</button>
                <button id="declare-war">Sava≈ü ƒ∞lan Et (En K√∂t√º ƒ∞li≈ükili √úlkeye)</button>
            </div>
        </div>

        <div id="security-screen" class="game-screen">
            <h2>G√ºvenlik & Ordu</h2>
            <p>Su√ß Oranƒ±: <span id="crime-rate">5</span>%</p>
            <p>Halkƒ±n G√ºvenlik Algƒ±sƒ±: <span id="security-perception">75</span>%</p>
            <p>Ordu B√ºy√ºkl√ºƒü√º: <span id="army-size-security">50000</span></p>
            <p>Askeri G√º√ß Endeksi: <span id="military-strength-index">50</span></p>
            <p>Ordu Sadakati: <span id="army-loyalty-display">Y√ºksek</span></p>
            
            <div class="policy-slider">
                <div class="policy-slider-header">
                    <h3>G√ºvenlik Seviyesi (ƒ∞√ß Polisaj)</h3>
                    <span class="policy-value" id="security-level-value">5</span>
                </div>
                <input type="range" id="security-level-slider" min="1" max="10" value="5">
                <div class="tooltip">‚ÑπÔ∏è
                    <span class="tooltiptext">G√ºvenlik seviyesini artƒ±rmak su√ßlarƒ± azaltabilir ancak √∂zg√ºrl√ºkleri kƒ±sƒ±tlayabilir.</span>
                </div>
                <button id="apply-security-level">Uygula</button>
            </div>
            
            <h3>Emniyet / Adalet Kararlarƒ±</h3>
            <div class="flex-row">
                <label for="police-budget">Polis B√ºt√ßesi ($M):</label>
                <div class="input-with-buttons">
                    <button id="decrease-police-budget">-</button>
                    <input type="number" id="police-budget" value="3" min="1" max="20">
                    <button id="increase-police-budget">+</button>
                </div>
                <button id="increase-police-budget-btn">Uygula</button>
            </div>
            <div class="security-actions">
                <button id="reform-justice">Adalet Sistemini Reforme Et ($5M)</button>
                <button id="surveillance-program">G√∂zetim Programƒ± Ba≈ülat ($4M)</button>
                <button id="crackdown-dissent" title="Sadece Diktat√∂rl√ºkte etkili">Muhalefeti Bastƒ±r ($2M+)</button>
            </div>
            <p class="security-note">G√∂zetim programlarƒ± ve muhalefeti bastƒ±rma, su√ß oranƒ±nƒ± d√º≈ü√ºrebilir ancak halk memnuniyetini ve siyasi istikrarƒ± ciddi ≈üekilde etkileyebilir.</p>

            <h3>Askeri Kararlar</h3>
             <div class="flex-row">
                <label for="recruit-soldiers-input">Asker Alƒ±mƒ± (x1000 ki≈üi):</label> <div class="input-with-buttons">
                    <button id="decrease-recruits">-</button>
                    <input type="number" id="recruit-soldiers-input" value="5" min="1" max="50">
                    <button id="increase-recruits">+</button>
                </div>
                <button id="recruit-soldiers-btn">Asker Al ($1M/1000 asker)</button>
            </div>
            <div class="security-actions">
                <button id="plan-war-btn">Sava≈ü Planlamasƒ± Yap ($5M)</button>
                <button id="military-exercise-btn">Askeri Tatbikat D√ºzenle ($10M+)</button>
                <button id="military-council-meeting-btn">Askeri ≈ûura ile Toplantƒ± ($1M)</button>
            </div>
        </div>

        <div id="reports-screen" class="game-screen">
            <h2>Raporlar & Zaman Y√∂netimi</h2>
            <p>Mevcut Tarih: Hafta <span id="report-current-week">1</span>, G√ºn <span id="report-current-day">1</span></p>
            <div class="reports-actions">
                <button id="advance-day-btn">G√ºn√º ƒ∞lerlet (1 G√ºn)</button>
                <button id="complete-week-reports-btn" disabled>Haftayƒ± Tamamla</button>
            </div>
            <hr>
            
            <div class="minister-advice">
                <h3>Ekonomi Bakanlƒ±ƒüƒ± Raporu</h3>
                <p>GSYƒ∞H Deƒüi≈üimi (Haftalƒ±k): <span id="gdp-change-report-display">-</span></p>
                <p>Enflasyon Deƒüi≈üimi (Haftalƒ±k): <span id="inflation-change-report-display">-</span></p>
                <p id="economy-report-inflation">Enflasyon Analizi: <span id="inflation-analysis">Hen√ºz analiz yapƒ±lmadƒ±.</span></p>
                <p id="economy-report-gdp">GSYƒ∞H Durumu: <span id="gdp-analysis">Hen√ºz analiz yapƒ±lmadƒ±.</span></p>
                <p id="economy-report-advice">√ñneriler: <span id="economy-recommendations">Hen√ºz √∂neri bulunmuyor.</span></p>
            </div>
            
            <div class="minister-advice">
                <h3>Sosyal Politikalar Raporu</h3>
                <p>Eƒüitim Kalitesi: <span id="education-quality-report">Yetersiz</span></p>
                <p>Saƒülƒ±k Hizmetleri Kalitesi: <span id="health-quality-report">Yetersiz</span></p>
                <p>Ulusal Bayram Sayƒ±sƒ±: <span id="holiday-count-report">0</span></p>
                <p>√ñneriler: <span id="social-recommendations">Hen√ºz √∂neri bulunmuyor.</span></p>
            </div>
            
            <div class="minister-advice">
                <h3>Siyasi Rapor</h3>
                <p>H√ºk√ºmet Desteƒüi (Memnuniyet): <span id="government-support-report">70%</span></p>
                <p>Meclis Desteƒüi: <span id="parliament-support-report">70%</span></p>
                <p>Siyasi ƒ∞stikrar: <span id="political-stability-report">70%</span></p>
                 <p>Medya √ñzg√ºrl√ºƒü√º Endeksi: <span id="media-freedom-report">7</span>/10</p>
                <p>√ñneriler: <span id="political-recommendations">Hen√ºz √∂neri bulunmuyor.</span></p>
            </div>
             <div class="minister-advice">
                <h3>Askeri Durum Raporu</h3>
                <p>Ordu Hazƒ±rlƒ±k Seviyesi: <span id="army-readiness-report">Orta</span></p>
                <p>Ordu Sadakati: <span id="army-loyalty-report">Y√ºksek</span></p>
                <p>Genelkurmay Deƒüerlendirmesi: <span id="military-assessment-report">Durum stabil.</span></p>
            </div>
            
            <h3>Ekonomi Verileri (Son 10 Hafta)</h3>
            <canvas id="reportChartCanvas" width="600" height="300"></canvas>
        </div>

        <div id="game-over-screen" class="game-screen">
            <h1>Oyun Bitti!</h1>
            <p id="game-over-reason"></p>
            <p>Son Hafta: <span id="final-week"></span></p>
            <p>Son N√ºfus: <span id="final-population"></span></p>
            <p>Son GSYƒ∞H: <span id="final-gdp"></span></p>
            <button id="restart-game-btn">Tekrar Oyna</button>
        </div>

    </div>

    <script>
        // --- Oyun Deƒüi≈ükenleri ---
        let week = 1;
        let dayOfWeek = 1; 
        let isAtWar = false;
        let governmentType = 'Demokrasi'; 
        let mediaFreedom = 7; 
        let mediaInfluence = 60; 
        let propagandaEffectWeeks = 0; 

        let population = 10000000;
        let gdp = 1000000000;
        let inflation = 2; 
        let satisfaction = 70; 
        let budget = 100000000; 
        let taxes = 10; 
        let educationSpending = 0; 
        let healthSpending = 0; 
        let cultureSpending = 0; 
        let crimeRate = 5; 
        let securityPerception = 75; 
        // let politicalSystem = 'Demokrasi'; // Bu deƒüi≈üken governmentType ile birle≈üti
        let politicalStability = 70; 
        let parliamentSupport = 70; 
        let foreignRelationsScore = 50; 
        let nationalHolidays = 0; 
        let armySize = 50000; 
        let militaryStrengthIndex = 50; 
        let armyUpkeepCostPerSoldier = 50; 
        let armyLoyalty = 80; 

        let socialPolicyLevel = 5; 
        let economicPolicyLevel = 5; 
        let diplomaticApproachLevel = 5; 
        let securityLevel = 5; 

        const historicalData = {
            weeks: [], gdp: [], satisfaction: [], inflation: [], politicalStability: []
        };
        
        let weeklyBudgetChange = 0; let weeklySatisfactionChange = 0; let weeklyGdpChangeFactor = 1;
        let weeklyInflationChange = 0; let weeklyPopulationChangeFactor = 1; let weeklyForeignRelationsChange = 0;
        let weeklyCrimeRateChange = 0; let weeklySecurityPerceptionChange = 0; let weeklyMilitaryStrengthChange = 0;
        let weeklyPoliticalStabilityChange = 0; let weeklyArmyLoyaltyChange = 0;
        let weeklyMediaFreedomChange = 0;


        const cabinet = {
            economy: { name: 'Bo≈ü', efficiency: 0.5, corruption: 0.1 }, education: { name: 'Bo≈ü', efficiency: 0.5, corruption: 0.1 },
            health: { name: 'Bo≈ü', efficiency: 0.5, corruption: 0.1 }, foreign: { name: 'Bo≈ü', efficiency: 0.5, corruption: 0.1 },
            interior: { name: 'Bo≈ü', efficiency: 0.5, corruption: 0.1 }, justice: { name: 'Bo≈ü', efficiency: 0.5, corruption: 0.1 },
            defense: { name: 'Bo≈ü', efficiency: 0.5, corruption: 0.1 } 
        };
        const countries = { 
            'Yunanistan': { relation: 40, tradeDeal: false, summitInvited: false, summitAccepted: false, militaryPower: 45 },
            'Bulgaristan': { relation: 55, tradeDeal: false, summitInvited: false, summitAccepted: false, militaryPower: 35 },
            'G√ºrcistan': { relation: 60, tradeDeal: true, summitInvited: false, summitAccepted: false, militaryPower: 30 },
            'Ermenistan': { relation: 20, tradeDeal: false, summitInvited: false, summitAccepted: false, militaryPower: 25 },
            'Azerbaycan': { relation: 75, tradeDeal: true, summitInvited: false, summitAccepted: false, militaryPower: 50 },
            'ƒ∞ran': { relation: 30, tradeDeal: false, summitInvited: false, summitAccepted: false, militaryPower: 65 },
            'Irak': { relation: 25, tradeDeal: false, summitInvited: false, summitAccepted: false, militaryPower: 40 },
            'Suriye': { relation: 15, tradeDeal: false, summitInvited: false, summitAccepted: false, militaryPower: 20 }, 
            'Rusya': { relation: 45, tradeDeal: false, summitInvited: false, summitAccepted: false, militaryPower: 90 },
            'Ukrayna': { relation: 50, tradeDeal: false, summitInvited: false, summitAccepted: false, militaryPower: 60 }
        };
        const parliamentAgenda = []; 
        let summitPlanned = false;
        let summitInvitationsSent = false;

        // --- DOM Elementleri ---
        const themeToggleBtn = document.getElementById('theme-toggle');
        const tabButtons = document.querySelectorAll('.tab-btn');
        const gameScreens = document.querySelectorAll('.game-screen');
        const currentWeekEl = document.getElementById('current-week');
        const currentDayOfWeekEl = document.getElementById('current-day-of-week'); 
        const populationEl = document.getElementById('population');
        const gdpEl = document.getElementById('gdp');
        const inflationEl = document.getElementById('inflation');
        const satisfactionEl = document.getElementById('satisfaction');
        const budgetEl = document.getElementById('budget');
        const taxRateEl = document.getElementById('tax-rate');
        //const politicalSystemEl = document.getElementById('political-system'); // government-type-display ile birle≈üti
        const governmentTypeDisplayEl = document.getElementById('government-type-display');
        const mediaFreedomDisplayEl = document.getElementById('media-freedom-display');
        const politicalStabilityEl = document.getElementById('political-stability');
        const foreignRelationsScoreEl = document.getElementById('foreign-relations-score');
        const armySizeDisplayEl = document.getElementById('army-size-display');
        const gameLogEl = document.getElementById('game-log');
        const gameCanvas = document.getElementById('gameCanvas');
        const ctx = gameCanvas.getContext('2d');
        const taxSlider = document.getElementById('tax-slider');
        const taxSliderValue = document.getElementById('tax-slider-value');
        const applyTaxBtn = document.getElementById('apply-tax');
        const economyInvestmentInput = document.getElementById('economy-investment');
        const decreaseEconomyInvestmentBtn = document.getElementById('decrease-economy-investment');
        const increaseEconomyInvestmentBtn = document.getElementById('increase-economy-investment');
        const investEconomyBtn = document.getElementById('invest-economy');
        const educationInvestmentInput = document.getElementById('education-investment');
        const decreaseEducationInvestmentBtn = document.getElementById('decrease-education-investment');
        const increaseEducationInvestmentBtn = document.getElementById('increase-education-investment');
        const investEducationBtn = document.getElementById('invest-education');
        const healthInvestmentInput = document.getElementById('health-investment');
        const decreaseHealthInvestmentBtn = document.getElementById('decrease-health-investment');
        const increaseHealthInvestmentBtn = document.getElementById('increase-health-investment');
        const investHealthBtn = document.getElementById('invest-health');
        const cultureInvestmentInput = document.getElementById('culture-investment');
        const decreaseCultureInvestmentBtn = document.getElementById('decrease-culture-investment');
        const increaseCultureInvestmentBtn = document.getElementById('increase-culture-investment');
        const promoteCultureBtn = document.getElementById('promote-culture');
        const declareHolidayBtn = document.getElementById('declare-holiday');
        const endWeekBtn = document.getElementById('end-week-btn');
        const investGreenEnergyBtn = document.getElementById('invest-green-energy');
        const developDefenseIndustryBtn = document.getElementById('develop-defense-industry');
        const socialPolicySlider = document.getElementById('social-policy-slider');
        const socialPolicyValue = document.getElementById('social-policy-value');
        const applySocialPolicyBtn = document.getElementById('apply-social-policy');
        const economicPolicySlider = document.getElementById('economic-policy-slider');
        const economicPolicyValue = document.getElementById('economic-policy-value');
        const applyEconomicPolicyBtn = document.getElementById('apply-economic-policy');
        const diplomaticApproachSlider = document.getElementById('diplomatic-approach-slider');
        const diplomaticApproachValue = document.getElementById('diplomatic-approach-value');
        const applyDiplomaticApproachBtn = document.getElementById('apply-diplomatic-approach');
        const securityLevelSlider = document.getElementById('security-level-slider');
        const securityLevelValue = document.getElementById('security-level-value');
        const applySecurityLevelBtn = document.getElementById('apply-security-level');
        const policeBudgetInput = document.getElementById('police-budget');
        const decreasePoliceBudgetBtn = document.getElementById('decrease-police-budget');
        const increasePoliceBudgetBtn = document.getElementById('increase-police-budget');
        const increasePoliceBudgetBtnApply = document.getElementById('increase-police-budget-btn');
        const crimeRateEl = document.getElementById('crime-rate');
        const securityPerceptionEl = document.getElementById('security-perception');
        const armySizeSecurityEl = document.getElementById('army-size-security');
        const militaryStrengthIndexEl = document.getElementById('military-strength-index');
        const armyLoyaltyDisplayEl = document.getElementById('army-loyalty-display');
        const reformJusticeBtn = document.getElementById('reform-justice');
        const surveillanceProgramBtn = document.getElementById('surveillance-program');
        const crackdownDissentBtn = document.getElementById('crackdown-dissent');
        const recruitSoldiersInput = document.getElementById('recruit-soldiers-input');
        const decreaseRecruitsBtn = document.getElementById('decrease-recruits');
        const increaseRecruitsBtn = document.getElementById('increase-recruits');
        const recruitSoldiersBtn = document.getElementById('recruit-soldiers-btn');
        const planWarBtn = document.getElementById('plan-war-btn');
        const militaryExerciseBtn = document.getElementById('military-exercise-btn');
        const militaryCouncilMeetingBtn = document.getElementById('military-council-meeting-btn');
        const cabinetListEl = document.getElementById('cabinet-list');
        const ministerTypeSelect = document.getElementById('minister-type-select');
        const ministerNameInput = document.getElementById('minister-name-input');
        const appointMinisterBtn = document.getElementById('appoint-minister-btn');
        const economyAdviceText = document.getElementById('economy-advice-text');
        const educationAdviceText = document.getElementById('education-advice-text');
        const healthAdviceText = document.getElementById('health-advice-text');
        const foreignAdviceText = document.getElementById('foreign-advice-text');
        const interiorAdviceText = document.getElementById('interior-advice-text');
        const justiceAdviceText = document.getElementById('justice-advice-text');
        const defenseAdviceText = document.getElementById('defense-advice-text');
        const inflationAnalysisEl = document.getElementById('inflation-analysis');
        const gdpAnalysisEl = document.getElementById('gdp-analysis');
        const economyRecommendationsEl = document.getElementById('economy-recommendations');
        const socialRecommendationsEl = document.getElementById('social-recommendations');
        const politicalRecommendationsEl = document.getElementById('political-recommendations');
        const parliamentSupportEl = document.getElementById('parliament-support');
        const oppositionStrengthDisplayEl = document.getElementById('opposition-strength-display');
        const governmentTypeParliamentEl = document.getElementById('government-type-parliament');
        const mediaFreedomSlider = document.getElementById('media-freedom-slider');
        const mediaFreedomTargetValueEl = document.getElementById('media-freedom-target-value');
        const mediaFreedomValueDisplayEl = document.getElementById('media-freedom-value-display');
        const applyMediaPolicyBtn = document.getElementById('apply-media-policy');
        const startPropagandaBtn = document.getElementById('start-propaganda-btn');
        const applyCensorshipBtn = document.getElementById('apply-censorship-btn');
        const parliamentAgendaList = document.getElementById('parliament-agenda');
        const proposalInput = document.getElementById('proposal-input');
        const proposeLawBtn = document.getElementById('propose-law-btn');
        const callElectionsBtn = document.getElementById('call-elections');
        const declareDictatorshipBtn = document.getElementById('declare-dictatorship');
        const dissolveParliamentBtn = document.getElementById('dissolve-parliament-btn');
        const meetOppositionClosedBtn = document.getElementById('meet-opposition-closed-btn');
        const meetOppositionOpenBtn = document.getElementById('meet-opposition-open-btn');
        const foreignRelationsDisplayEl = document.getElementById('foreign-relations-display');
        const countryRelationsList = document.getElementById('country-relations-list');
        const foreignEventsList = document.getElementById('foreign-events-list');
        const globalSummitBtn = document.getElementById('global-summit-btn');
        const signTradeDealBtn = document.getElementById('sign-trade-deal');
        const improveRelationsBtn = document.getElementById('improve-relations');
        const declareWarBtn = document.getElementById('declare-war');
        const createSummitBtn = document.getElementById('create-summit-btn');
        const summitInvitationListEl = document.getElementById('summit-invitation-list');
        const sendSummitInvitationsBtn = document.getElementById('send-summit-invitations-btn');
        const advanceDayBtn = document.getElementById('advance-day-btn');
        const completeWeekReportsBtn = document.getElementById('complete-week-reports-btn');
        const reportCurrentWeekEl = document.getElementById('report-current-week');
        const reportCurrentDayEl = document.getElementById('report-current-day');
        const gdpChangeReportDisplayEl = document.getElementById('gdp-change-report-display');
        const inflationChangeReportDisplayEl = document.getElementById('inflation-change-report-display');
        const educationQualityReportEl = document.getElementById('education-quality-report');
        const healthQualityReportEl = document.getElementById('health-quality-report');
        const holidayCountReportEl = document.getElementById('holiday-count-report');
        const governmentSupportReportEl = document.getElementById('government-support-report');
        const parliamentSupportReportEl = document.getElementById('parliament-support-report');
        const politicalStabilityReportEl = document.getElementById('political-stability-report');
        const mediaFreedomReportEl = document.getElementById('media-freedom-report');
        // const oppositionStrengthReportEl = document.getElementById('opposition-strength-report'); // Zaten tanƒ±mlƒ±
        const armyReadinessReportEl = document.getElementById('army-readiness-report');
        const armyLoyaltyReportEl = document.getElementById('army-loyalty-report');
        const militaryAssessmentReportEl = document.getElementById('military-assessment-report');
        const reportChartCanvas = document.getElementById('reportChartCanvas');
        const reportChartCtx = reportChartCanvas.getContext('2d');
        const gameOverScreen = document.getElementById('game-over-screen');
        const gameOverReasonEl = document.getElementById('game-over-reason');
        const finalWeekEl = document.getElementById('final-week');
        const finalPopulationEl = document.getElementById('final-population');
        const finalGdpEl = document.getElementById('final-gdp');
        const restartGameBtn = document.getElementById('restart-game-btn');
        
        
        initTheme();
         // Event Listener'larƒ± DOM y√ºklendikten sonra atamak daha g√ºvenli olabilir, ancak tek dosya olduƒüu i√ßin genelde sorun olmaz.
        // setupInvestmentButtons gibi fonksiyonlar DOM elementlerini kullandƒ±ƒüƒ± i√ßin, bu elementlerin deƒüi≈ükenlere atanmasƒ±ndan SONRA √ßaƒürƒ±lmalƒ±.
        // VEYA, t√ºm scripti body'nin sonuna almak ya da DOMContentLoaded kullanmak en garantisi olur.
        // ≈ûimdilik mevcut yapƒ± devam ediyor.

        function setupAllEventListeners() {
            if(themeToggleBtn) themeToggleBtn.addEventListener('click', () => { /* ... */ }); // Kƒ±saltƒ±ldƒ±, √∂nceki kodda var

            if(tabButtons) tabButtons.forEach(button => { button.addEventListener('click', () => { showScreen(button.dataset.tab); }); });
            
            // Vergi
            if(taxSlider) taxSlider.addEventListener('input', () => { if(taxSliderValue) taxSliderValue.textContent = taxSlider.value; });
            if(applyTaxBtn) applyTaxBtn.addEventListener('click', () => { /* ... Vergi uygulama mantƒ±ƒüƒ± ... */
                const newTaxRate = parseFloat(taxSlider.value);
                const oldTaxes = taxes;
                taxes = newTaxRate;
                const change = newTaxRate - oldTaxes;
                if(taxRateEl) taxRateEl.textContent = taxes.toFixed(1);
                
                let taxMessage = "";
                if (change > 0) {
                    taxMessage = `Vergileri %${taxes.toFixed(1)} oranƒ±na y√ºkselttiniz.`;
                    weeklySatisfactionChange -= change * 2.8; 
                    weeklyPoliticalStabilityChange -= change * 0.5;
                    if (taxes > 20) taxMessage += " Halk arasƒ±nda b√ºy√ºk bir ho≈ünutsuzluk var!";
                    addLog(taxMessage, 'warning');
                } else if (change < 0) {
                    taxMessage = `Vergileri %${taxes.toFixed(1)} oranƒ±na d√º≈ü√ºrd√ºn√ºz.`;
                    weeklySatisfactionChange -= change * 2.0; 
                    weeklyPoliticalStabilityChange -= change * 0.2;
                    if (taxes < 8) taxMessage += " B√ºt√ße gelirlerinde ciddi d√º≈ü√º≈ü bekleniyor.";
                    addLog(taxMessage, 'info');
                }
                updateGameStats();
            });

            // Yatƒ±rƒ±mlar
            setupInvestmentButtons('economy-investment', 'decrease-economy-investment', 'increase-economy-investment', 1, 100);
            setupInvestmentButtons('education-investment', 'decrease-education-investment', 'increase-education-investment', 1, 50);
            setupInvestmentButtons('health-investment', 'decrease-health-investment', 'increase-health-investment', 1, 50);
            setupInvestmentButtons('culture-investment', 'decrease-culture-investment', 'increase-culture-investment', 1, 30);
            setupInvestmentButtons('police-budget', 'decrease-police-budget', 'increase-police-budget', 1, 20);
            setupInvestmentButtons('recruit-soldiers-input', 'decrease-recruits', 'increase-recruits', 1, 50);

            if(investEconomyBtn) investEconomyBtn.addEventListener('click', () => { /* ... Yatƒ±rƒ±m mantƒ±ƒüƒ± ... */
                const amount = parseInt(economyInvestmentInput.value);
                makeInvestment('Ekonomi', amount, -amount, 0.12, 0.06, 0.15, cabinet.economy);
                updateGameStats();
            });
            if(investEducationBtn) investEducationBtn.addEventListener('click', () => { /* ... */
                const amount = parseInt(educationInvestmentInput.value); 
                if(makeInvestment('Eƒüitim', amount, -amount, 0.01, 0.005, 0.6, cabinet.education)) educationSpending += amount * 1000000 * cabinet.education.efficiency;
                updateGameStats();
            });
            if(investHealthBtn) investHealthBtn.addEventListener('click', () => { /* ... */
                const amount = parseInt(healthInvestmentInput.value); 
                if(makeInvestment('Saƒülƒ±k', amount, -amount, 0.015, 0.007, 0.75, cabinet.health)) healthSpending += amount*1000000*cabinet.health.efficiency;
                updateGameStats();
            });
            if(promoteCultureBtn) promoteCultureBtn.addEventListener('click', () => { /* ... */
                const amount = parseInt(cultureInvestmentInput.value); 
                if(makeInvestment('K√ºlt√ºr', amount, -amount, 0.005, 0.002, 0.35, cabinet.economy)) cultureSpending += amount*1000000;
                updateGameStats();
            });


            // Yeni Politikalar
            if(investGreenEnergyBtn) investGreenEnergyBtn.addEventListener('click', () => { /* ... Ye≈üil enerji mantƒ±ƒüƒ± ... */
                const cost = 20000000;
                if (budget >= cost) {
                    budget -= cost; weeklyBudgetChange -= cost; // Anlƒ±k maliyet, haftalƒ±k etki i√ßin
                    addLog("Ye≈üil enerji d√∂n√º≈ü√ºm√º i√ßin 20 Milyon Dolarlƒ±k b√ºy√ºk bir yatƒ±rƒ±m paketi a√ßƒ±klandƒ±.", "success");
                    weeklySatisfactionChange += 3;
                    weeklyForeignRelationsChange += 2; 
                    weeklyInflationChange -= 0.15; 
                    weeklyPoliticalStabilityChange +=1;
                    if(Math.random() < cabinet.economy.efficiency - 0.3) { 
                        addLog("Ye≈üil enerji yatƒ±rƒ±mƒ± uluslararasƒ± alanda takdir topladƒ± ve yeni teknolojiler getirdi!", "success");
                        weeklyGdpChangeFactor *= 1.002;
                    }
                } else { addLog("Ye≈üil enerji yatƒ±rƒ±mƒ± i√ßin yeterli b√ºt√ße yok.", "warning"); }
                updateGameStats();
            });
            if(developDefenseIndustryBtn) developDefenseIndustryBtn.addEventListener('click', () => { /* ... Savunma sanayi mantƒ±ƒüƒ± ... */
                 const cost = 50000000;
                if (budget >= cost) {
                    budget -= cost; weeklyBudgetChange -= cost; 
                    addLog("Ulusal savunma sanayii geli≈ütirme projesi ba≈ülatƒ±ldƒ± (50 Milyon Dolar).", "info");
                    let strengthGain = 5 + Math.floor(cabinet.defense.efficiency * 5 - cabinet.defense.corruption * 8);
                    strengthGain = Math.max(1, strengthGain); 
                    weeklyMilitaryStrengthChange += strengthGain; 
                    weeklyGdpChangeFactor *= (1 + 0.001 * cabinet.defense.efficiency); 
                    weeklyForeignRelationsChange -= (2 - diplomaticApproachLevel * 0.2); 
                    weeklyArmyLoyaltyChange += Math.max(0, Math.floor((cabinet.defense.efficiency - cabinet.defense.corruption - 0.3)*5));
                    if(strengthGain < 2){
                        addLog("Ancak, yolsuzluk ve verimsizlik nedeniyle projeden beklenen fayda saƒülanamadƒ±.", "danger");
                    }
                } else { addLog("Savunma sanayii projesi i√ßin yeterli b√ºt√ße yok.", "warning"); }
                updateGameStats();
            });

            // Politika Sliderlarƒ± ve Uygulama Butonlarƒ±
            if(socialPolicySlider) socialPolicySlider.addEventListener('input', () => { if(socialPolicyValue) socialPolicyValue.textContent = socialPolicySlider.value; });
            if(applySocialPolicyBtn) applySocialPolicyBtn.addEventListener('click', () => { /* ... */
                const newLevel = parseInt(socialPolicySlider.value); const change = newLevel - socialPolicyLevel; socialPolicyLevel = newLevel;
                if (change > 0) { addLog(`Sosyal politikalar ${newLevel}. seviyeye geni≈ületildi.`, 'info'); weeklySatisfactionChange += change * 0.8; weeklyBudgetChange -= change * 700000; weeklyPoliticalStabilityChange += change * 0.2;}
                else if (change < 0) { addLog(`Sosyal politikalar ${newLevel}. seviyeye daraltƒ±ldƒ±.`, 'warning'); weeklySatisfactionChange += change * 1.5; weeklyBudgetChange -= change * 700000; weeklyPoliticalStabilityChange += change * 0.3;}
                updateGameStats();
            });
            // ... (economicPolicy, diplomaticApproach, securityLevel i√ßin benzer listener'lar) ...
            if(economicPolicySlider) economicPolicySlider.addEventListener('input', () => { if(economicPolicyValue) economicPolicyValue.textContent = economicPolicySlider.value; });
            if(applyEconomicPolicyBtn) applyEconomicPolicyBtn.addEventListener('click', () => {
                const newLevel = parseInt(economicPolicySlider.value); const change = newLevel - economicPolicyLevel; economicPolicyLevel = newLevel;
                if (change > 0) { addLog(`Ekonomi politikalarƒ± ${newLevel}. seviyeye getirildi (Geni≈ülemeci).`, 'info'); weeklyGdpChangeFactor *= (1 + (change * 0.003 * cabinet.economy.efficiency)); weeklyInflationChange += change * 0.15 * (1.5 - cabinet.economy.efficiency);}
                else if (change < 0) { addLog(`Ekonomi politikalarƒ± ${newLevel}. seviyeye getirildi (Daraltƒ±cƒ±).`, 'warning'); weeklyGdpChangeFactor *= (1 + (change * 0.002 / (cabinet.economy.efficiency || 0.1) )); weeklyInflationChange += change * 0.12 * cabinet.economy.efficiency;}
                updateGameStats();
            });

            if(diplomaticApproachSlider) diplomaticApproachSlider.addEventListener('input', () => { if(diplomaticApproachValue) diplomaticApproachValue.textContent = diplomaticApproachSlider.value; });
            if(applyDiplomaticApproachBtn) applyDiplomaticApproachBtn.addEventListener('click', () => {
                const newLevel = parseInt(diplomaticApproachSlider.value); const change = newLevel - diplomaticApproachLevel; diplomaticApproachLevel = newLevel;
                let message = `Diplomatik yakla≈üƒ±m ${newLevel}. seviyeye ayarlandƒ±. `;
                if (change > 0) { message += "ƒ∞li≈ükilerde iyile≈üme bekleniyor."; weeklyForeignRelationsChange += change * 0.8; for (const cN in countries) { countries[cN].relation = Math.min(100, countries[cN].relation + (change * (0.3 + Math.random()*0.4)));}}
                else if (change < 0) { message += "Gerginlikler artabilir."; weeklyForeignRelationsChange += change * 1.2; for (const cN in countries) { countries[cN].relation = Math.max(0, countries[cN].relation + (change * (0.4 + Math.random()*0.5)));}
                    if(newLevel < 3 && Math.random() < 0.3) { let randCountry = Object.keys(countries)[Math.floor(Math.random()*Object.keys(countries).length)]; countries[randCountry].relation = Math.max(0, countries[randCountry].relation - 15); message += ` ${randCountry} sert tutumunuzdan dolayƒ± b√ºy√ºkel√ßisini geri √ßaƒüƒ±rdƒ±!`; weeklyForeignRelationsChange -=5;}}
                addLog(message, change > 0 ? 'info' : 'warning'); updateForeignRelationsDisplay(); updateGameStats();
            });
            
            if(securityLevelSlider) securityLevelSlider.addEventListener('input', () => { if(securityLevelValue) securityLevelValue.textContent = securityLevelSlider.value; });
            if(applySecurityLevelBtn) applySecurityLevelBtn.addEventListener('click', () => {
                const newLevel = parseInt(securityLevelSlider.value); const change = newLevel - securityLevel; securityLevel = newLevel;
                let slMessage = `ƒ∞√ß g√ºvenlik (polisaj) seviyesi ${newLevel}. seviyeye ayarlandƒ±. `;
                if (change > 0) { slMessage += "Su√ßlarda d√º≈ü√º≈ü bekleniyor."; weeklyCrimeRateChange -= change * 0.3; weeklySecurityPerceptionChange += change * 0.7;
                    if (securityLevel > 8 && governmentType === 'Demokrasi') { slMessage += " Ancak bu durum √∂zg√ºrl√ºkleri kƒ±sƒ±tladƒ±ƒüƒ± i√ßin tepki √ßekebilir."; weeklySatisfactionChange -= (securityLevel - 8) * 0.6; weeklyPoliticalStabilityChange -= (securityLevel-8) * 0.3;}}
                else if (change < 0) { slMessage += "√ñzg√ºrl√ºkler geni≈üleyebilir ancak su√ßlar artabilir."; weeklyCrimeRateChange -= change * 0.4; weeklySecurityPerceptionChange += change * 0.9; }
                addLog(slMessage, 'info'); updateGameStats();
            });

            // Medya Y√∂netimi Butonlarƒ±
            if(mediaFreedomSlider) mediaFreedomSlider.addEventListener('input', () => {
                if(mediaFreedomTargetValueEl) mediaFreedomTargetValueEl.textContent = mediaFreedomSlider.value;
            });
            if(applyMediaPolicyBtn) applyMediaPolicyBtn.addEventListener('click', () => {
                const targetFreedom = parseFloat(mediaFreedomSlider.value);
                let changeDirection = (targetFreedom > mediaFreedom) ? "artƒ±rma" : "azaltma";
                addLog(`Medya √∂zg√ºrl√ºƒü√º politikasƒ±nƒ± ${targetFreedom}/10 seviyesine ${changeDirection} y√∂n√ºnde deƒüi≈ütirdiniz. Etkisi zamanla g√∂r√ºlecektir.`, 'info');
                weeklyMediaFreedomChange += (targetFreedom - mediaFreedom) * 0.3; // Hedefe doƒüru haftalƒ±k deƒüi≈üim
                if(governmentType === 'Diktat√∂rl√ºk' && targetFreedom > 3) {
                    addLog("Diktat√∂rl√ºkte medya √∂zg√ºrl√ºƒü√ºn√º bu kadar artƒ±rmak rejim i√ßin riskli olabilir!", "warning");
                    weeklyPoliticalStabilityChange -=2;
                }
            });
            if(startPropagandaBtn) startPropagandaBtn.addEventListener('click', () => {
                const cost = 5000000;
                if (budget < cost) { addLog("Propaganda kampanyasƒ± i√ßin b√ºt√ße yetersiz.", "warning"); return; }
                if (propagandaEffectWeeks > 0) { addLog("Zaten aktif bir propaganda kampanyasƒ± y√ºr√ºt√ºl√ºyor.", "warning"); return; }
                budget -= cost; // Anlƒ±k maliyet
                propagandaEffectWeeks = 4; 
                mediaInfluence = Math.min(100, mediaInfluence + 5); 
                addLog("Geni≈ü √ßaplƒ± bir devlet propaganda kampanyasƒ± ba≈ülatƒ±ldƒ±. (4 Hafta Etkili)", "success");
                if (mediaFreedom > 6 && governmentType === 'Demokrasi'){
                    addLog("Ancak √∂zg√ºr basƒ±n bu kampanyayƒ± ele≈ütiriyor, halkƒ±n bir kƒ±smƒ± ≈ü√ºpheci.", "warning");
                    weeklySatisfactionChange -=1; 
                }
                updateGameStats();
            });
            if(applyCensorshipBtn) applyCensorshipBtn.addEventListener('click', () => {
                let freedomReduction = 0;
                if (governmentType === 'Demokrasi' && mediaFreedom > 4) {
                    addLog("Demokratik bir √ºlkede bu kadar aƒüƒ±r sans√ºr uygulamak anayasal krize yol a√ßabilir!", "danger");
                    weeklyPoliticalStabilityChange -= 5; weeklySatisfactionChange -= 3;
                    freedomReduction = (Math.random() < 0.2) ? 0.5 : (1 + Math.random());
                } else {
                    freedomReduction = 1.5 + Math.random()*1.5;
                }
                weeklyMediaFreedomChange -= freedomReduction; // Haftalƒ±k etki
                addLog(`Medya √ºzerinde sans√ºr artƒ±rƒ±ldƒ±. Etkisi zamanla g√∂r√ºlecek.`, "danger");
                weeklySatisfactionChange -= 2; weeklyForeignRelationsChange -= 1;
                weeklyPoliticalStabilityChange += (governmentType === 'Diktat√∂rl√ºk' ? 2 : 0.5); 
                mediaInfluence = Math.max(30, mediaInfluence - 5); 
            });


            // Diƒüer Butonlar
            if(declareHolidayBtn) declareHolidayBtn.addEventListener('click', () => { /* ... Tatil mantƒ±ƒüƒ± ... */
                const cost = 2000000;
                if (budget >= cost) {
                    budget -= cost; 
                    nationalHolidays++;
                    weeklySatisfactionChange += (5 - nationalHolidays*0.5); 
                    weeklyGdpChangeFactor *= 0.998; 
                    addLog(`Yeni bir resmi tatil ilan ettiniz (${nationalHolidays}. tatil)! Halkƒ±n morali y√ºkseldi.`, 'success');
                } else { addLog(`Tatil ilan etmek i√ßin yeterli b√ºt√ße yok!`, 'warning'); }
                updateGameStats();
            });
            // ... (Meclis, G√ºvenlik, Dƒ±≈ü Politika, Kabine buton listener'larƒ± √∂nceki koddan alƒ±nacak ve haftalƒ±k etki mantƒ±ƒüƒ±na g√∂re g√ºncellenecek)
             // Meclis
            if(callElectionsBtn) callElectionsBtn.addEventListener('click', () => { /* ... Erken se√ßim ... */
                if (governmentType === 'Demokrasi' || governmentType === 'Otoriter Demokrasi') {
                    if (politicalStability < 40 && satisfaction < 40 && governmentType === 'Demokrasi') {
                         addLog('Halk ve siyasi ortam erken se√ßim i√ßin √ßok gergin. Bu karar kaos yaratabilir!', 'danger');
                         weeklyPoliticalStabilityChange -=10; weeklySatisfactionChange -=5;
                         if(Math.random() < 0.3) { gameOver("Erken se√ßim √ßaƒürƒ±nƒ±z √ºlkeyi kaosa s√ºr√ºkledi ve h√ºk√ºmetiniz d√º≈üt√º!", "civil_war"); return;}
                    }
                    const cost = 10000000;
                    if (budget < cost) { addLog("Erken se√ßim i√ßin b√ºt√ße yetersiz!", "warning"); return;}
                    budget -= cost; 
                    addLog('Erken se√ßim kararƒ± aldƒ±nƒ±z! Sandƒ±klar kuruluyor...', 'event');
                    politicalStability = Math.max(0, politicalStability - 5 - Math.floor(Math.random()*5)); 
                    setTimeout(() => conductElections(), 2000 ); 
                } else { addLog(`${governmentType} tipinde erken se√ßim √ßaƒürƒ±sƒ± yapƒ±lamaz!`, 'danger'); }
            });
            if(proposeLawBtn) proposeLawBtn.addEventListener('click', () => { /* ... Yasa teklifi ... */
                const proposalText = proposalInput.value.trim();
                if (proposalText === '') { addLog('L√ºtfen ge√ßerli bir yasa teklifi girin.', 'warning'); return; }
                if (governmentType === 'Diktat√∂rl√ºk') {
                    addLog(`Kararname yayƒ±nlandƒ±: "${proposalText}". Halkƒ±n tepkisi yakƒ±nda belli olur.`, 'info');
                    weeklySatisfactionChange += (Math.random()-0.5)*4; 
                    proposalInput.value = ''; updateGameStats(); return;
                }
                let proposalPopularity = (Math.random() - 0.3) * 10; 
                parliamentAgenda.push({
                    description: proposalText, rejectionCount: 0, 
                    onApprove: () => { addLog(`"${proposalText}" yasasƒ± onaylandƒ±!`, 'success'); weeklySatisfactionChange += 2 + proposalPopularity/2; parliamentSupport = Math.min(100, parliamentSupport + 4 + proposalPopularity/3); weeklyPoliticalStabilityChange += 1 + proposalPopularity/5; },
                    onReject: () => { weeklySatisfactionChange -= (1 - proposalPopularity/3); weeklyPoliticalStabilityChange -= (1 - proposalPopularity/4); }
                });
                addLog(`"${proposalText}" yasa teklifi meclis g√ºndemine sunuldu.`, 'info');
                proposalInput.value = ''; updateParliamentDisplay();
            });
            if(declareDictatorshipBtn) declareDictatorshipBtn.addEventListener('click', () => { /* ... Diktat√∂rl√ºk ilanƒ± ... */
                if (governmentType === 'Demokrasi' || governmentType === 'Otoriter Demokrasi') {
                    addLog("Diktat√∂rl√ºk ilan etme giri≈üimi...", "event");
                    if (armyLoyalty < 60 && politicalStability > 40 && governmentType === 'Demokrasi') {
                        addLog('Ordu bu hukuksuz emre uymadƒ±! Giri≈üim ba≈üarƒ±sƒ±z oldu ve siyasi kriz derinle≈üti!', 'danger');
                        weeklySatisfactionChange -= 25; parliamentSupport = Math.max(0, parliamentSupport - 30); politicalStability = Math.max(0, politicalStability - 40);
                        if(politicalStability < 10) gameOver("Ba≈üarƒ±sƒ±z diktat√∂rl√ºk giri≈üimi sonrasƒ± √ºlke kaosa s√ºr√ºklendi.", "civil_war"); return;
                    }
                    if (satisfaction > 50 && politicalStability > 50 && governmentType === 'Demokrasi') {
                        addLog('Halk ve kurumlar demokrasiye baƒülƒ±. Giri≈üim b√ºy√ºk tepki √ßekti!', 'danger');
                        weeklySatisfactionChange -= 20; weeklyPoliticalStabilityChange -= 30; return;
                    }
                    addLog('Orduyu kullanarak diktat√∂rl√ºƒü√ºn√ºz√º ilan ettiniz! T√ºm yetkiler sizde.', 'danger');
                    governmentType = 'Diktat√∂rl√ºk'; // H√ºk√ºmet tipi deƒüi≈üti
                    // politicalSystem = 'Diktat√∂rl√ºk'; // Bu da senkronize edilebilir
                    weeklySatisfactionChange -= 35; weeklyForeignRelationsChange -= 50; parliamentSupport = 100; 
                    politicalStability = Math.min(60, politicalStability + 10); weeklyCrimeRateChange -= crimeRate * 0.6; 
                    weeklySecurityPerceptionChange += 30; weeklyArmyLoyaltyChange += 15; 
                    Object.keys(countries).forEach(cn => { if(countries[cn].relation > 40) countries[cn].relation = Math.max(0, countries[cn].relation - 20 - Math.floor(Math.random()*15)); });
                    updateForeignRelationsDisplay();
                } else { addLog('Zaten bir diktat√∂rs√ºn√ºz veya rejim buna uygun deƒüil!', 'warning'); }
                updateGameStats(); enableAllActionButtons(); 
            });
            if(dissolveParliamentBtn) dissolveParliamentBtn.addEventListener('click', () => { /* ... Meclis feshi ... */
                 if (governmentType === 'Demokrasi' || governmentType === 'Otoriter Demokrasi') {
                    addLog("Meclisi feshetme kararƒ± alƒ±yorsunuz...", "event");
                    if (parliamentSupport > 30 && politicalStability > 40 && armyLoyalty > 50 && governmentType === 'Demokrasi') {
                        addLog('Meclisi feshetme giri≈üiminiz ordu ve yargƒ± tarafƒ±ndan engellendi! Anayasaya aykƒ±rƒ± bulundu.', 'danger');
                        weeklySatisfactionChange -= 15; parliamentSupport = Math.max(0, parliamentSupport - 20); politicalStability = Math.max(0, politicalStability - 25);
                        if(politicalStability < 15) gameOver("Anayasal kriz √ºlkeyi y√∂netilemez hale getirdi.", "civil_war"); return;
                    }
                    addLog('Meclisi feshettiniz! T√ºm yasama yetkisi size ge√ßti. √úlke otoriter bir y√∂netime kayƒ±yor.', 'danger');
                    weeklySatisfactionChange -= 30; governmentType = 'Diktat√∂rl√ºk'; // Sonu√ß diktat√∂rl√ºk
                    parliamentSupport = 0; politicalStability = Math.max(10, politicalStability - 20 + (armyLoyalty > 70 ? 10 : -5)); 
                    parliamentAgenda.length = 0; updateParliamentDisplay();
                } else { addLog('Mevcut rejimde meclis feshedilemez veya zaten etkisiz.', 'warning'); }
                updateGameStats(); enableAllActionButtons();
            });
            // ... (Diƒüer t√ºm butonlar i√ßin benzer ≈üekilde event listener'lar eklenecek)

            // Rapor Ekranƒ± Zaman Butonlarƒ±
            if(advanceDayBtn) advanceDayBtn.addEventListener('click', () => { /* ... advanceOneDay √ßaƒürƒ±sƒ± ... */
                if (gameOverScreen.style.display !== 'none') { addLog("Oyun bitti.", "warning", true); return;}
                if (dayOfWeek <= 7 && !isAtWar) { advanceOneDay(); }
                else if (isAtWar) { addLog("Sava≈ü devam ederken g√ºn√º ilerletemezsiniz!", "warning", true); }
                else { addLog("Hafta tamamlandƒ±. Ana ekrandan 'Haftayƒ± Bitir' ile ilerleyebilirsiniz.", "warning", true); }
            });
            if(completeWeekReportsBtn) completeWeekReportsBtn.addEventListener('click', () => { /* ... Kalan g√ºnleri ilerletme ... */
                if (gameOverScreen.style.display !== 'none') { addLog("Oyun bitti.", "warning", true); return;}
                if (isAtWar) { addLog("Sava≈ü devam ederken haftayƒ± tamamlayamazsƒ±nƒ±z!", "warning", true); return; }
                addLog("Haftanƒ±n geri kalanƒ± hƒ±zla tamamlanƒ±yor...", "event", true);
                while(dayOfWeek <= 7) { advanceOneDay(); }
                if(endWeekBtn) endWeekBtn.disabled = false; // Haftayƒ± bitir butonu artƒ±k aktif olmalƒ±
                if(completeWeekReportsBtn) completeWeekReportsBtn.disabled = true; // Kendini pasif yap
                if(advanceDayBtn) advanceDayBtn.disabled = true;
            });

            if(endWeekBtn) endWeekBtn.addEventListener('click', () => { if (!isAtWar && gameOverScreen.style.display === 'none') endWeek(); });
            if(restartGameBtn) restartGameBtn.addEventListener('click', () => { resetGame(); });

        } // setupAllEventListeners sonu
        
        // Fonksiyon tanƒ±mlamalarƒ± (showScreen, resetGame, updateGameStats, addLog, drawCanvasStats, drawReportChart, updateMinisterAdvice, updateMinisterReports, enableAllActionButtons, gameOver, advanceOneDay, endWeek, triggerRandomEvent, vb.) buraya gelecek.
        // √ñnceki kod bloklarƒ±ndaki fonksiyon tanƒ±mlarƒ± buraya kopyalanacak ve gerekli g√ºncellemeler yapƒ±lacak.
        // Bu √ßok uzun olacaƒüƒ± i√ßin, sadece temel yapƒ±yƒ± ve deƒüi≈üiklikleri g√∂steriyorum.
        // T√ºm fonksiyonlarƒ±n doƒüru sƒ±rada ve kapsamda olduƒüundan emin olunmalƒ±.

        // KODUN SONUNDA √áALI≈ûACAK ƒ∞LK Y√úKLEME FONKSƒ∞YONLARI
        document.addEventListener('DOMContentLoaded', () => {
            // T√ºm DOM elementleri y√ºklendikten sonra event listener'larƒ± ata
            setupAllEventListeners(); // T√ºm event listener'larƒ± bu fonksiyon i√ßinde topla
            
            initTheme();
            resetGame(); 
            // showScreen('main-screen'); // resetGame i√ßinde √ßaƒürƒ±lƒ±yor
        });

    </script>
</body>
</html>
